webpackJsonp([14],{662:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(573),o=a(651),n=a.n(o);t.default={name:"newVideoSet",model:{prop:"addVideoSet",event:"switch"},props:{addVideoSet:Boolean},data:function(){return{title:"",selectRange:!1,selectRangeResult:"把视频集发布至值圈",isNothreshold:!0,videoPrice:0,showImgSample:!1,tagList:[{value:"exchange",label:"财经",active:!1},{value:"metal",label:"投资",active:!1},{value:"energy",label:"教育",active:!1},{value:"stock",label:"理财",active:!1},{value:"other",label:"经济",active:!1}],videoTypeList:[{value:"新建视频集",label:"新建视频集"}],videoType:"",rangeId:"",rangeList:[],tagFilterArr:[],videoCoverUrl:"",coverImgUploadStatus:"",showTip:!1}},created:function(){this.userInfo=a.i(i.a)("user"),this.userInfo||(location.href="https://www.touzd.cn")},methods:{close:function(){this.$emit("switch",!1)},selectReleaseRange:function(e){this.selectRangeResult=e.name,this.selectRange=!1,this.rangeId=e.ids},tagFilter:function(e){var t=this;e.active=!e.active,e.active?this.tagFilterArr.push(e.label):this.tagFilterArr.splice(this.tagFilterArr.findIndex(function(t){return t===e.label}),1);var a=this.tagFilterArr.join("|");""!==a?i.b.Post("/web/release&statu=video",{label:a},function(e){e=e.data,t.rangeList=e},this.$router):(this.rangeList=[],this.selectRangeResult="")},beforeUpload:function(e){},onProgress:function(e,t){this.coverImgUploadStatus="上传中..."},onSuccess:function(e,t){"-3"===e.errorCode&&(location.href="https://www.touzd.cn"),this.videoCoverUrl=e.data,this.showImgSample=!0,this.coverImgUploadStatus="上传完成"},onError:function(e,t){console.log(e,t)},onPreview:function(e){},onFormatError:function(e){alert("选择正确的图片文件")},onExceededSize:function(e){alert("请选择小于10MB的图片")},changeVideoCover:function(){this.$refs.uploadCover.$el.click()},finishNewVideoSet:function(){var e=this;""!==this.title&&""!==this.videoCoverUrl&&""!==this.tagFilterArr.join("|")&&""!==this.rangeId?i.b.Post("/web/release&statu=video",{title:n()(this.title),pic:this.videoCoverUrl,label:this.tagFilterArr.join("|"),clubId:this.rangeId,price:this.videoPrice,videset:"type3"},function(t){t=t.data,e.$emit("switch",!1),e.title="",e.showImgSample=!1,e.videoCoverUrl="",e.tagFilterArr=[],e.rangeId=""},this.$router):this.showTip=!0},hideList:function(e){e.target.classList.contains("select-range-placeholder")||(this.selectRange=!1)}}}},682:function(e,t,a){t=e.exports=a(554)(!1),t.push([e.i,".new-video-set[data-v-2b793a02]{position:absolute;top:50%;left:50%;z-index:30;margin:-365px 0 0 -220px;width:440px;height:730px;background:#fff}.new-video-set h1[data-v-2b793a02]{padding-left:30px;font-size:18px;line-height:50px;color:#fff;background:#888}.new-video-set .close[data-v-2b793a02]{margin-top:-40px;margin-right:26px;font-size:25px;line-height:1;color:#fff;cursor:pointer}.mb30[data-v-2b793a02]{margin-bottom:30px}.mt25[data-v-2b793a02]{margin-top:25px}.mb55[data-v-2b793a02]{margin-bottom:55px}.mb22[data-v-2b793a02]{margin-bottom:21px}.content[data-v-2b793a02]{padding:30px 29px 0;height:680px;border:1px solid #a2a2a2;border-top:none}.content h4[data-v-2b793a02]{margin-bottom:10px;font-size:18px;line-height:1;color:#333;cursor:default}.content .input-title[data-v-2b793a02]{padding-left:20px;width:380px;height:40px;font-size:16px;color:#333;border:1px solid #888;border-radius:4px}.content .upload-pic .add-pic[data-v-2b793a02]{width:174px;height:40px;font-size:16px;color:#fff;background:#333}.content .upload-pic .img-sample[data-v-2b793a02]{float:left;display:block;width:173px;height:98px}.content .upload-pic .upload-status[data-v-2b793a02]{display:block;margin-top:25px;margin-left:26px;font-size:16px;line-height:40px;color:#aaa}.content .tag[data-v-2b793a02]{display:inline-block;width:60px;margin-right:14px;font-size:16px;line-height:36px;text-align:center;border:1px solid #aaa;color:#aaa;border-radius:2px;cursor:pointer}.content .tag[data-v-2b793a02]:last-of-type{margin-right:0}.content .tag.active[data-v-2b793a02]{color:#333;border-color:#333}.content .select-range[data-v-2b793a02]{width:380px;height:40px;cursor:pointer}.content .select-range .select-range-placeholder[data-v-2b793a02]{padding-left:15px;line-height:38px;color:#aaa;border:1px solid #888;border-radius:4px;background:url("+a(614)+") no-repeat;background-size:10px;background-position:350px 15px}.content .select-range .select-range-placeholder.active[data-v-2b793a02]{color:#333}.content .select-range .select-range-placeholder.choosing[data-v-2b793a02]{background-image:url("+a(605)+")}.content .select-range .select-range-detail[data-v-2b793a02]{position:relative;z-index:20;min-height:40px;max-height:200px;overflow-y:auto;background:#fff;border:1px solid #888;border-radius:4px}.content .select-range .select-range-detail .new-videoSet[data-v-2b793a02]{float:right;padding-left:10px;width:130px;line-height:38px;color:#333;background:url("+a(605)+") no-repeat;background-size:10px;background-position:100px 15px}.content .select-range .select-range-detail .range-detail-list .range-detail-item[data-v-2b793a02]{padding-left:15px;font-size:16px;line-height:38px;color:#333}.content .select-range .select-range-detail .range-detail-list .range-detail-item[data-v-2b793a02]:hover{font-weight:700}.content .select-range .select-range-detail .range-detail-list .range-detail-item[data-v-2b793a02]:first-of-type{border-radius:4px 4px 0 0}.content .select-range .select-range-detail .range-detail-list .range-detail-item[data-v-2b793a02]:last-of-type{border-radius:0 0 4px 4px}.content .input-price[data-v-2b793a02]{margin-right:10px;padding:8px 15px;width:300px;height:40px;border:1px solid #888;border-radius:4px}.content .nothreshold[data-v-2b793a02]{width:70px;font-size:16px;font-weight:700;line-height:40px;color:#fff;border-radius:4px;background:#888;text-align:center}.content .nothreshold.choose[data-v-2b793a02]{background:#333}.content .finish[data-v-2b793a02]{display:block;margin:0 auto;width:174px;font-size:16px;line-height:40px;color:#fff;background:#1b1b1b;-webkit-box-shadow:0 -2px 2px #adadad,-3px 0 3px #e0e0e0,0 6px 6px #c6c6c6,3px 0 3px #e0e0e0;box-shadow:0 -2px 2px #adadad,-3px 0 3px #e0e0e0,0 6px 6px #c6c6c6,3px 0 3px #e0e0e0;cursor:pointer;-webkit-transition:all .5s linear;transition:all .5s linear}.content .finish[data-v-2b793a02]:hover{-webkit-transform:scale(1.05);transform:scale(1.05)}.tip[data-v-2b793a02]{position:fixed;z-index:100;top:50%;left:50%;height:250px;width:500px;margin:-125px 0 0 -250px;background:#fff;padding:100px 20px;text-align:center;border:1px solid #333}.tip p[data-v-2b793a02]{font-size:16px;color:#333;margin-bottom:50px}.tip span[data-v-2b793a02]{display:inline-block;width:140px;line-height:30px;font-size:18px;color:#fff;background:#000;-webkit-box-shadow:0 4px 12px #444;box-shadow:0 4px 12px #444}.fade-enter-active[data-v-2b793a02],.fade-leave-active[data-v-2b793a02]{-webkit-transition:opacity 1s;transition:opacity 1s}.fade-enter[data-v-2b793a02],.fade-leave-to[data-v-2b793a02]{opacity:0}",""])},701:function(e,t,a){var i=a(682);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a(555)("73ca482e",i,!0)},722:function(e,t,a){function i(e){a(701)}var o=a(3)(a(662),a(734),i,"data-v-2b793a02",null);e.exports=o.exports},734:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"new-video-set clearfix",on:{click:function(t){e.hideList(t)}}},[a("h1",{staticClass:"noselect"},[e._v("新建视频集")]),e._v(" "),a("span",{staticClass:"close r noselect",on:{click:e.close}},[e._v("×")]),e._v(" "),a("div",{staticClass:"content clearfix"},[a("h4",{staticClass:"noselect"},[e._v("视频集标题")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"title"}],staticClass:"input-title mb30",attrs:{type:"text",placeholder:"为您的视频集取个名字吧"},domProps:{value:e.title},on:{input:function(t){t.target.composing||(e.title=t.target.value)}}}),e._v(" "),a("h4",{staticClass:"noselect"},[e._v("视频集封面")]),e._v(" "),a("div",{staticClass:"upload-pic clearfix noselect"},[a("Upload",{directives:[{name:"show",rawName:"v-show",value:!e.showImgSample,expression:"!showImgSample"}],staticClass:"l mt25 mb55",attrs:{action:"https://www.touzd.cn/?m=fileUpload&update=pic&pic=videosets",name:"newAddCover",accept:"image/jpg,image/jpeg,image/png,image/gif","show-upload-list":!1,"max-size":1e5,"before-upload":e.beforeUpload,"on-progress":e.onProgress,"on-success":e.onSuccess,"on-error":e.onError,"on-preview":e.onPreview,"on-format-error":e.onFormatError,"on-exceeded-size":e.onExceededSize}},[a("Button",{ref:"uploadCover",staticClass:"add-pic",attrs:{type:"ghost"}},[e._v("点击添加视频封面")])],1),e._v(" "),a("img",{directives:[{name:"show",rawName:"v-show",value:e.showImgSample,expression:"showImgSample"}],staticClass:"img-sample mb22",attrs:{src:e.videoCoverUrl,alt:""},on:{click:e.changeVideoCover}}),e._v(" "),a("span",{staticClass:"upload-status l"},[e._v(e._s(e.coverImgUploadStatus))])],1),e._v(" "),a("h4",{staticClass:"noselect"},[e._v("选择标签")]),e._v(" "),a("p",{staticClass:"mb30 noselect"},e._l(e.tagList,function(t){return a("span",{key:t.value,staticClass:"tag noselect",class:{active:t.active},on:{click:function(a){e.tagFilter(t)}}},[e._v(e._s(t.label))])})),e._v(" "),a("h4",{staticClass:"noselect"},[e._v("发布范围")]),e._v(" "),a("ul",{staticClass:"select-range mb30 noselect"},[a("li",{staticClass:"select-range-placeholder",class:{active:"把视频集发布至值圈"!==e.selectRangeResult,choosing:e.selectRange},on:{click:function(t){e.selectRange=!0},blur:function(t){e.selectRange=!1}}},[e._v(e._s(e.selectRangeResult?e.selectRangeResult:"把视频集发布至值圈"))]),e._v(" "),a("transition",{attrs:{name:"fade"}},[a("li",{directives:[{name:"show",rawName:"v-show",value:e.selectRange,expression:"selectRange"}],staticClass:"select-range-detail clearfix"},[a("ul",{staticClass:"range-detail-list"},e._l(e.rangeList,function(t){return a("li",{key:t.ids,staticClass:"range-detail-item",on:{click:function(a){e.selectReleaseRange(t)}}},[e._v(e._s(t.name))])}))])])],1),e._v(" "),a("h4",{staticClass:"noselect"},[e._v("值币")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.videoPrice,expression:"videoPrice"}],staticClass:"input-price l",attrs:{type:"text",disabled:""},domProps:{value:e.videoPrice},on:{input:function(t){t.target.composing||(e.videoPrice=t.target.value)}}}),e._v(" "),a("span",{staticClass:"nothreshold noselect l mb55",class:{choose:e.isNothreshold}},[e._v("无门槛")]),e._v(" "),a("button",{staticClass:"finish",on:{click:e.finishNewVideoSet}},[e._v("完成")])]),e._v(" "),a("transition",{attrs:{name:"fade"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.showTip,expression:"showTip"}],staticClass:"tip noselect",on:{click:function(t){e.showTip=!1}}},[a("p",[e._v("请填入标题、上传封面、选择标签、值圈")]),e._v(" "),a("span",[e._v("确认")])])])],1)},staticRenderFns:[]}}});